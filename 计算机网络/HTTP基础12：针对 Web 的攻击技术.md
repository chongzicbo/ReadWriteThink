

## 1. 针对 Web 的攻击技术

1. **HTTP协议的安全性问题**：HTTP协议本身不具备安全性功能，如认证和会话管理，这使得Web应用容易受到攻击。开发者需要自行设计和开发这些功能，但往往存在安全漏洞。

2. **客户端请求篡改**：HTTP请求的全部内容可以在客户端自由变更和篡改，攻击者可以通过URL查询字段、表单、HTTP首部、Cookie等途径传入攻击代码，导致内部信息泄露或管理权限被滥用。

3. **主动攻击和被动攻击**：
   - **主动攻击**：攻击者直接访问Web应用，传入攻击代码。代表性攻击包括SQL注入攻击和OS命令注入攻击。

   ![主动攻击](https://raw.githubusercontent.com/chongzicbo/images/main/picgo/image-20250107170709436.png)

   - **被动攻击**：攻击者利用圈套策略执行攻击代码，不直接访问目标Web应用。代表性攻击包括跨站脚本攻击（XSS）和跨站点请求伪造（CSRF）。

   ![被动攻击](https://raw.githubusercontent.com/chongzicbo/images/main/picgo/image-20250107170637395.png)

4. **利用用户身份攻击企业内网**：通过被动攻击，攻击者可以利用用户的身份对企业内网发动攻击，即使内网原本无法从互联网直接访问。

## 2. 因输出值转义不完全引发的安全漏洞

因输出值转义不完全而引发的安全漏洞，主要包括跨站脚本攻击（XSS）、SQL注入攻击、OS命令注入攻击、HTTP首部注入攻击、邮件首部注入攻击、目录遍历攻击和远程文件包含漏洞。以下是主要内容：

1. **跨站脚本攻击（XSS）**：攻击者通过注入非法HTML标签或JavaScript代码，使用户在浏览器中执行恶意脚本。XSS攻击可以通过动态生成的HTML部分触发，可能导致用户个人信息被盗、Cookie被窃取、伪造文章或图片显示等。
2. **SQL注入攻击**：攻击者通过在SQL语句中注入非法代码，绕过认证、篡改数据库数据或执行其他恶意操作。例如，通过在搜索功能中注入特定字符串，攻击者可以显示未出版的书籍信息。
3. **OS命令注入攻击**：攻击者通过Web应用调用Shell函数时注入非法命令，执行操作系统命令。例如，攻击者可以通过伪造邮件地址注入命令，导致敏感文件被发送到攻击者指定的邮箱。
4. **HTTP首部注入攻击**：攻击者在响应首部字段内插入换行符，添加任意响应首部或主体。例如，攻击者可以通过注入换行符和Set-Cookie首部字段，设置任意Cookie信息或重定向用户到恶意URL。
5. **邮件首部注入攻击**：攻击者通过向邮件首部To或Subject内添加非法内容，发送广告邮件或病毒邮件。例如，攻击者可以通过注入换行符追加Bcc邮件地址，发送未经授权的邮件。
6. **目录遍历攻击**：攻击者通过非法截断目录路径，访问未公开的文件目录。例如，攻击者可以通过输入特定路径访问服务器上的敏感文件。
7. **远程文件包含漏洞**：攻击者通过指定外部服务器的URL，使Web应用读取并执行任意脚本。例如，攻击者可以通过注入外部URL，执行系统命令，显示服务器上的文件及目录信息。

## 3. 因设置或设计上的缺陷引发的安全漏 洞

因设置或设计上的缺陷引发的安全漏洞，主要包括强制浏览、不正确的错误消息处理和开放重定向。以下是主要内容：

1. **强制浏览（Forced Browsing）**：攻击者可以通过浏览Web服务器公开目录下的文件，访问原本非自愿公开的文件。这可能导致泄露顾客的个人信息、未外连到外界的文件以及备份文件等。例如，攻击者可以通过直接指定URL访问会员日记功能中的图片，即使没有访问权限。
2. **不正确的错误消息处理（Error Handling Vulnerability）**：Web应用的错误信息可能包含对攻击者有用的信息，如数据库错误信息、脚本错误信息等。攻击者可以利用这些信息进行进一步的攻击。例如，认证功能在输入错误的邮件地址时提示“邮件地址未注册”，攻击者可以利用这一点确认账号是否存在。
3. **开放重定向（Open Redirect）**：Web应用的重定向功能如果未正确设置，可能会被攻击者利用，诱导用户访问恶意网站。例如，攻击者可以将重定向URL改为恶意网站，诱使用户访问并输入敏感信息。

## 4. 因会话管理疏忽引发的安全漏洞

因会话管理疏忽引发的安全漏洞，主要包括会话劫持、会话固定攻击和跨站点请求伪造。以下是主要内容：

1. **会话劫持（Session Hijack）**：攻击者通过获取用户的会话ID，伪装成用户进行非法操作。常见的获取会话ID的方法包括非正规生成方法推测、窃听或跨站脚本攻击（XSS）盗取、会话固定攻击等。
2. **会话固定攻击（Session Fixation）**：攻击者强制用户使用预先设定的会话ID进行认证，从而在认证成功后利用该会话ID进行非法操作。攻击者通过访问Web网站获取会话ID，设置陷阱等待用户认证，最终利用该会话ID登录网站。
3. **跨站点请求伪造（Cross-Site Request Forgeries, CSRF）**：攻击者通过设置陷阱，强制已认证用户进行非预期的个人信息或设定信息更新。例如，攻击者可以在留言板系统中设置陷阱，使用户在不知情的情况下发表恶意评论。

这些攻击方式都利用了会话管理的漏洞，可能导致用户的认证状态被窃取或被恶意利用。

## 5. 其他安全漏洞

其他安全漏洞，包括密码破解、点击劫持、DoS攻击和后门程序。以下是主要内容：

1. **密码破解**：包括通过网络试错和已加密密码的破解。网络试错分为穷举法和字典攻击。穷举法尝试所有可能的密码组合，而字典攻击利用预先收集的候选密码进行尝试。已加密密码的破解方法包括穷举法、字典攻击、彩虹表、拿到密钥和利用加密算法的漏洞。
2. **点击劫持**：利用透明的按钮或链接覆盖在Web页面上，诱使用户在不知情的情况下点击链接访问内容。例如，攻击者可以在SNS网站的注销功能页面上设置透明层，诱使用户点击注销按钮，实际上点击的是钓鱼网站上的PLAY按钮。
3. **DoS攻击**：通过集中利用访问请求造成资源过载或攻击安全漏洞使服务停止。多台计算机发起的DoS攻击称为DDoS攻击，通常利用感染病毒的计算机作为攻击跳板。
4. **后门程序**：开发设置的隐藏入口，可不按正常步骤使用受限功能。后门程序分为开发阶段作为Debug调用的后门程序、开发者为了自身利益植入的后门程序和攻击者通过某种方法设置的后门程序。

## 6. 总结

| 攻击技术/安全漏洞        | 描述                                                   | 影响                                                |
| ------------------------ | ------------------------------------------------------ | --------------------------------------------------- |
| HTTP不具备必要的安全功能 | HTTP协议本身不具备认证及会话管理等安全功能，易受攻击。 | 需要开发者自行设计安全功能，可能存在漏洞。          |
| 客户端篡改请求           | HTTP请求可在客户端自由变更，攻击者可传入攻击代码。     | 可能导致内部信息泄露或被攻击者获取管理权限。        |
| 主动攻击                 | 攻击者直接访问Web应用，传入攻击代码。                  | 需要访问到资源，代表性攻击包括SQL注入和OS命令注入。 |
| 被动攻击                 | 利用圈套策略执行攻击代码，不直接访问目标Web应用。      | 代表性攻击包括跨站脚本攻击和跨站点请求伪造。        |
| 跨站脚本攻击（XSS）      | 通过非法HTML标签或JavaScript在浏览器内运行攻击。       | 可能导致个人信息被盗、Cookie被窃取等。              |
| SQL注入攻击              | 通过运行非法SQL语句攻击数据库。                        | 可能导致数据泄露、规避认证等。                      |
| OS命令注入攻击           | 通过Web应用执行非法操作系统命令。                      | 可能导致系统被攻击者控制。                          |
| HTTP首部注入攻击         | 在响应首部字段内插入换行，添加任意响应首部或主体。     | 可能导致设置任意Cookie信息、重定向至任意URL等。     |
| 邮件首部注入攻击         | 向邮件首部To或Subject内添加非法内容。                  | 可能导致发送广告邮件或病毒邮件。                    |
| 目录遍历攻击             | 通过非法截断目录路径访问未公开的文件目录。             | 可能导致非法浏览、篡改或删除服务器上的文件。        |
| 远程文件包含漏洞         | 利用指定外部服务器的URL充当依赖文件，运行任意脚本。    | 可能导致执行恶意OS命令。                            |
| 强制浏览                 | 浏览原本非自愿公开的文件。                             | 可能导致泄露个人信息等重要情报。                    |
| 不正确的错误消息处理     | 错误信息内包含对攻击者有用的信息。                     | 可能为攻击者提供下一次攻击的提示。                  |
| 开放重定向               | 对指定的任意URL作重定向跳转。                          | 可能被攻击者用来作为钓鱼攻击的跳板。                |
| 会话劫持                 | 攻击者拿到用户的会话ID，伪装成用户。                   | 可能导致用户的认证状态被窃取。                      |
| 会话固定攻击             | 强制用户使用攻击者指定的会话ID。                       | 可能导致用户的认证状态被窃取。                      |
| 跨站点请求伪造（CSRF）   | 强制对已完成认证的用户进行非预期的状态更新。           | 可能导致利用已通过认证的用户权限进行恶意操作。      |
| 密码破解                 | 算出密码，突破认证。                                   | 可能导致用户账户被非法访问。                        |
| 点击劫持                 | 利用透明的按钮或链接做成陷阱，覆盖在Web页面之上。      | 可能导致用户在不知情的情况下点击恶意链接。          |
| DoS攻击                  | 让运行中的服务呈停止状态。                             | 可能导致服务不可用。                                |
| 后门程序                 | 开发设置的隐藏入口，可不按正常步骤使用受限功能。       | 可能导致未经授权的功能被使用。                      |